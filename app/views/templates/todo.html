<article ng-class="{ achieved: achieved }">
  <span class="achievement"><p><img src="/img/icon-check.png">{{ congratulation }}</p></span>
  <div class="todo-content">
    <span
      class="date"
      ng-class="{ 'overdues': category === 'overdues', 'icon-timer': category === 'today', 'icon-coffee': category === 'noduedate' }"
      title="{{ 'createdDate' | i18n }} {{ assignedTodo.created_at | elapsedTime }}">
      <div ng-if="category === 'overdues'">
        <span class="day-number">{{ assignedTodo.due_at | daysDifference }}</span>
        <span class="day-label" ng-switch="assignedTodo.days_late">
          <span ng-switch-when="1">{{ 'dayLate' | i18n }}</span>
          <span ng-switch-default>{{ 'daysLate' | i18n }}</span>
        </span>
      </div>
      <div ng-if="category === 'upcoming'">
        <span class="day-number">{{ assignedTodo.due_at | daysDifference }}</span>
        <span class="day-label" ng-switch="assignedTodo.remaining_days">
          <span ng-switch-when="1">{{ 'dayLeft' | i18n }}</span>
          <span ng-switch-default>{{ 'daysLeft' | i18n }}</span>
        </span>
      </div>
    </span>
    <div class="todo">
      <div>
        <span class="checkbox" ng-click="completeTodo(assignedTodo)"></span>
        <span
          class="todo-text"
          title="{{ assignedTodo.assignee.name | filterOn: isFiltered() }}"
          ng-bind-html="assignedTodo.content | highlight: state.search">
        </span>
      </div>
    </div>
    <span
      class="comments"
      title="{{ 'lastUpdate' | i18n }} {{ assignedTodo.updated_at | elapsedTime }}"
      ng-click="openTodo(assignedTodo)"
      ng-if="assignedTodo.comments_count">
      <span class="icon-comment"></span>
      <span>{{ assignedTodo.comments_count }}</span>
    </span>
    <span
      class="icon-link"
      ng-click="openTodo(assignedTodo)"
      title="{{ 'visitTodo' | i18n }}">
    </span>
  </div>
</article>
